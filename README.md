# Readme


## Correlation of median income by county in CA and quantity of FEMA declared disasters, 2012-2022

The Flint, Michigan water crisis and the Pajaro Valley flood are two
textbook examples of environmental racism which arose because of
extremely neglected infrastructure in impoverished communities.
Instances of outdated infrastructure endangering communities is not
surprising or new, but I wanted to explore further in the case of a FEMA
data set containing observations on federally declared disasters. Based
on the past case studies mentioned above as well as many others, I
hypothesize that an inverse correlation between median household income
and declared disasters will be found by the use of lasso regression.

SOI bases its county income data on the addresses reported on individual
income tax returns filed with the IRS. Data are presented by county
(including State totals) and are available for Tax Years1989through
2022. The data include; number of returns, which approximates the number
of households, number of personal exemptions, which approximates the
population, adjusted gross income (AGI), wages and salaries, dividends
before exclusion, interest received, and more.

Disaster Declarations Summaries is a summarized dataset describing all
federally declared disasters. This dataset lists all official FEMA
Disaster Declarations, beginning with the first disaster declaration in
1953 and features all three disaster declaration types: major disaster,
emergency, and fire management assistance. The dataset includes declared
recovery programs and geographic areas (county not available before
1964; Fire Management records are considered partial due to historical
nature of the dataset).

Glimpse function

``` r
library(tidyverse)
```

    ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ✔ dplyr     1.1.4     ✔ readr     2.1.5
    ✔ forcats   1.0.0     ✔ stringr   1.5.1
    ✔ ggplot2   3.5.1     ✔ tibble    3.2.1
    ✔ lubridate 1.9.4     ✔ tidyr     1.3.1
    ✔ purrr     1.0.4     
    ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ✖ dplyr::filter() masks stats::filter()
    ✖ dplyr::lag()    masks stats::lag()
    ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
rawdata1_AGIbyCounty <- read.csv("Project1/data/rawdata/Raw_AGI_by_State/12cyallagi.csv")
glimpse(rawdata1_AGIbyCounty)
```

    Rows: 25,544
    Columns: 77
    $ STATEFIPS  <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
    $ STATE      <chr> "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL",…
    $ COUNTYFIPS <int> 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3,…
    $ COUNTYNAME <chr> "Alabama", "Alabama", "Alabama", "Alabama", "Alabama", "Ala…
    $ agi_stub   <int> 1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4,…
    $ N1         <dbl> 25790, 314970, 575050, 491130, 254100, 159750, 182180, 4712…
    $ MARS1      <dbl> 14490, 231330, 259520, 194350, 68140, 22990, 15760, 3610, 1…
    $ MARS2      <dbl> 9160, 28840, 100220, 159160, 148760, 125690, 160100, 42280,…
    $ MARS4      <dbl> 1150, 50760, 206150, 123340, 31470, 9020, 4880, 790, 0, 460…
    $ PREP       <dbl> 18630, 172200, 354550, 293440, 157060, 97210, 109360, 36490…
    $ N2         <dbl> 39390, 353340, 1152090, 1034500, 591230, 419430, 513740, 13…
    $ NUMDEP     <dbl> 6610, 101860, 496820, 387660, 188460, 134030, 171550, 48350…
    $ A00100     <dbl> -1868782, 1778147, 9740046, 17615249, 15623114, 13816169, 2…
    $ N00200     <dbl> 6160, 240520, 472220, 428700, 221390, 141290, 164960, 41360…
    $ A00200     <dbl> 178168, 1354731, 7661823, 14481296, 12149138, 10630761, 182…
    $ N00300     <dbl> 9270, 40890, 76410, 108300, 95070, 77720, 113570, 39660, 70…
    $ A00300     <dbl> 35268, 32451, 73228, 104848, 107417, 93033, 178279, 372326,…
    $ N00600     <dbl> 5990, 20040, 30670, 44260, 42390, 37720, 65110, 30650, 50, …
    $ A00600     <dbl> 37468, 27579, 70713, 106298, 127658, 129243, 312654, 922284…
    $ N00650     <dbl> 5410, 17730, 26430, 38470, 37290, 33690, 59520, 29190, 50, …
    $ A00650     <dbl> 25865, 17187, 47756, 72717, 88986, 92153, 236459, 766707, 2…
    $ N00900     <dbl> 10210, 54310, 96280, 61920, 39780, 27400, 35120, 12820, 90,…
    $ A00900     <dbl> -108155, 234933, 639846, 279038, 260388, 233610, 581693, 89…
    $ SCHF       <dbl> 2780, 2950, 6410, 9460, 8340, 6310, 7790, 2890, 40, 0, 50, …
    $ N01000     <dbl> 7750, 15870, 21940, 32230, 31190, 27920, 51120, 28780, 60, …
    $ A01000     <dbl> 40967, -4281, 10815, 37189, 63528, 87153, 310212, 3041997, …
    $ N01400     <dbl> 1920, 11560, 28110, 35280, 27840, 21680, 28130, 8850, 0, 12…
    $ A01400     <dbl> 24709, 45826, 183717, 319833, 346051, 360083, 728745, 52795…
    $ N01700     <dbl> 3390, 26560, 85920, 102070, 72200, 51320, 61860, 13210, 20,…
    $ A01700     <dbl> 42847, 128560, 944326, 1750027, 1689648, 1477267, 2256840, …
    $ N02300     <dbl> 430, 15850, 49560, 30710, 15230, 8040, 6590, 620, 0, 170, 4…
    $ A02300     <dbl> 2043, 53526, 213008, 109954, 59680, 31557, 28150, 2925, 0, …
    $ N02500     <dbl> 50, 700, 33430, 85740, 57290, 37020, 37410, 9630, 0, 0, 380…
    $ A02500     <dbl> 306, 3142, 56311, 521488, 807460, 695295, 791710, 235054, 0…
    $ N03300     <dbl> 30, 60, 310, 530, 500, 500, 1790, 3140, 0, 0, 0, 0, 0, 0, 5…
    $ A03300     <dbl> 299, 181, 1072, 2894, 3803, 5031, 26736, 94934, 0, 0, 0, 0,…
    $ N04470     <dbl> 0, 13150, 49440, 129320, 112570, 91590, 140500, 44730, 0, 1…
    $ A00101     <dbl> 0, 76495, 896511, 4899573, 6979495, 7969635, 18886748, 2267…
    $ A04470     <dbl> 0, 180766, 682055, 1916735, 1915503, 1781661, 3331118, 2760…
    $ N18425     <dbl> 0, 3380, 22220, 92660, 92030, 79140, 128480, 42690, 0, 30, …
    $ A18425     <dbl> 0, 3763, 22892, 152388, 230207, 271212, 671488, 772607, 0, …
    $ N18450     <dbl> 0, 7570, 22530, 28400, 17820, 10790, 10410, 1810, 0, 80, 28…
    $ A18450     <dbl> 0, 5604, 20609, 37269, 27174, 19239, 23436, 5975, 0, 57, 25…
    $ N18500     <dbl> 0, 6720, 27400, 87810, 93150, 82840, 132540, 42650, 0, 60, …
    $ A18500     <dbl> 0, 6868, 22294, 67752, 82567, 85194, 190659, 159611, 0, 36,…
    $ N18300     <dbl> 0, 12450, 48200, 125050, 112240, 91430, 140410, 44730, 0, 1…
    $ A18300     <dbl> 0, 19775, 75980, 287259, 369244, 403138, 936141, 964847, 0,…
    $ N19300     <dbl> 0, 6220, 25530, 83440, 87660, 77560, 121960, 34270, 0, 60, …
    $ A19300     <dbl> 0, 39200, 148186, 488186, 582881, 606255, 1105946, 500971, …
    $ N19700     <dbl> 0, 8740, 38360, 103590, 96610, 81750, 130230, 42770, 0, 90,…
    $ A19700     <dbl> 0, 14245, 108977, 359956, 405484, 405819, 835519, 909256, 0…
    $ N04800     <dbl> 0, 35680, 320820, 471480, 253040, 159520, 182020, 47070, 0,…
    $ A04800     <dbl> 0, 60081, 1904002, 8654010, 9980127, 9672608, 18303356, 200…
    $ N09600     <dbl> 30, 0, 30, 50, 340, 600, 3060, 21170, 0, 0, 0, 0, 0, 0, 40,…
    $ A09600     <dbl> 632, 0, 33, 69, 405, 1033, 6985, 126971, 0, 0, 0, 0, 0, 0, …
    $ N07100     <dbl> 20, 1770, 111000, 213920, 112570, 76580, 85290, 19260, 0, 0…
    $ A07100     <dbl> 4, 99, 38451, 195528, 169746, 131224, 119941, 182120, 0, 0,…
    $ N07180     <dbl> 0, 0, 10050, 30060, 19440, 16350, 19390, 2980, 0, 0, 130, 3…
    $ A07180     <dbl> 0, 0, 3440, 17214, 10139, 8879, 10554, 1644, 0, 0, 48, 191,…
    $ N07220     <dbl> 0, 0, 39640, 128930, 78500, 55340, 44240, 0, 0, 0, 400, 153…
    $ A07220     <dbl> 0, 0, 12265, 116302, 119665, 92095, 60191, 0, 0, 0, 144, 14…
    $ N07260     <dbl> 0, 0, 2160, 8990, 8070, 5840, 7610, 1480, 0, 0, 20, 80, 90,…
    $ A07260     <dbl> 0, 0, 573, 3510, 3234, 2264, 2768, 652, 0, 0, 3, 29, 32, 20…
    $ N59660     <dbl> 2720, 125100, 281220, 128140, 120, 0, 0, 0, 20, 1150, 2750,…
    $ A59660     <dbl> 3059, 190517, 988351, 235616, 3, 0, 0, 0, 20, 1752, 9360, 2…
    $ N59720     <dbl> 1740, 114260, 264820, 107770, 90, 0, 0, 0, 0, 1070, 2610, 1…
    $ A59720     <dbl> 2059, 165247, 906168, 202022, 2, 0, 0, 0, 0, 1589, 8646, 23…
    $ N11070     <dbl> 1180, 48320, 217920, 102940, 10020, 940, 190, 0, 0, 470, 20…
    $ A11070     <dbl> 1726, 34555, 301229, 153774, 12913, 1346, 334, 0, 0, 320, 2…
    $ N06500     <dbl> 40, 32800, 236660, 370140, 242100, 158170, 181490, 46990, 0…
    $ A06500     <dbl> 631, 5851, 162350, 854515, 1211973, 1271807, 3071974, 50070…
    $ N10300     <dbl> 4040, 81920, 306000, 389320, 245120, 158590, 181670, 47030,…
    $ A10300     <dbl> 9524, 43014, 271586, 937396, 1284426, 1332320, 3194545, 513…
    $ N11901     <dbl> 2260, 21990, 37810, 62670, 55490, 39010, 66410, 24580, 0, 2…
    $ A11901     <dbl> 3747, 8778, 32734, 86274, 114863, 105804, 307747, 758905, 0…
    $ N11902     <dbl> 10420, 264490, 521610, 421320, 192980, 116460, 108430, 1555…
    $ A11902     <dbl> 32264, 316206, 1724550, 1185640, 550568, 388849, 431448, 20…

``` r
rawdata2_FEMAdisaster <- read.csv("Project1/data/rawdata/DisasterDeclarationsSummaries.csv")
glimpse(rawdata2_FEMAdisaster)
```

    Rows: 67,921
    Columns: 28
    $ femaDeclarationString    <chr> "EM-3611-VI", "FM-5529-OR", "FM-5528-OR", "FM…
    $ disasterNumber           <int> 3611, 5529, 5528, 5527, 3611, 3611, 4312, 425…
    $ state                    <chr> "VI", "OR", "OR", "OR", "VI", "VI", "CA", "AL…
    $ declarationType          <chr> "EM", "FM", "FM", "FM", "EM", "EM", "DR", "DR…
    $ declarationDate          <chr> "2024-08-18T00:00:00.000Z", "2024-08-09T00:00…
    $ fyDeclared               <int> 2024, 2024, 2024, 2024, 2024, 2024, 2017, 201…
    $ incidentType             <chr> "Tropical Storm", "Fire", "Fire", "Fire", "Tr…
    $ declarationTitle         <chr> "TROPICAL STORM ERNESTO", "LEE FALLS FIRE", "…
    $ ihProgramDeclared        <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
    $ iaProgramDeclared        <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
    $ paProgramDeclared        <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
    $ hmProgramDeclared        <int> 0, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
    $ incidentBeginDate        <chr> "2024-08-13T00:00:00.000Z", "2024-08-08T00:00…
    $ incidentEndDate          <chr> "2024-08-16T00:00:00.000Z", "", "", "", "2024…
    $ disasterCloseoutDate     <chr> "", "", "", "", "", "", "2025-03-25T00:00:00.…
    $ tribalRequest            <int> 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, …
    $ fipsStateCode            <int> 78, 41, 41, 41, 78, 78, 6, 1, 1, 1, 53, 16, 1…
    $ fipsCountyCode           <int> 10, 67, 31, 17, 20, 30, 0, 1, 5, 9, 77, 0, 57…
    $ placeCode                <int> 99010, 99067, 99031, 99017, 99020, 99030, 603…
    $ designatedArea           <chr> "St. Croix (Island) (County-equivalent)", "Wa…
    $ declarationRequestNumber <int> 24126, 24122, 24116, 24111, 24126, 24126, 170…
    $ lastIAFilingDate         <chr> "", "", "", "", "", "", "", "", "", "", "", "…
    $ incidentId               <dbl> 2024080901, 2024081001, 2024080701, 202408030…
    $ region                   <int> 2, 10, 10, 10, 2, 2, 9, 4, 4, 4, 10, 10, 10, …
    $ designatedIncidentTypes  <chr> "4,M,W,Z", "R", "R", "R", "4,M,W,Z", "4,M,W,Z…
    $ lastRefresh              <chr> "2025-03-25T22:41:27.147Z", "2024-08-27T18:22…
    $ hash                     <chr> "4a8baf2d2f9117b4381e823fd96a41ea5f5c72d3", "…
    $ id                       <chr> "488c7bb4-5f20-4108-b499-99ef33953617", "09e3…
